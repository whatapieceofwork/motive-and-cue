{% extends "base.html" %}

{% block title %}- Edit Characters{% endblock %}

{% block content %}
<h2>Edit Character List for {{play.title}}</h2>

<div id="characters-metadata">
    <form action="/edit-characters-in-db" method="post">
    <input type="hidden" id="play" name="play" value="{{play.title}}">

{% for character in characters %}
<div id="character-metadata">
    <ul>
        <input type="hidden" id="id-{{loop.index0}}" name="id-{{loop.index0}}" value="{{character['id']}}">
        <li><label for "name">Name</label> 
            <input type="text" name="name-{{loop.index0}}" id="name-{{loop.index0}}" placeholder="{{character['name']}}" value="{{character['name']}}">
        <li><label for "gender">Canonical Gender</label><br />
                {% set character_loop = loop %}
                {% for key, value in genders.items() %}
                    {% if character.gender != None and key == (character['gender']|int) %}
                        <input checked type="radio" name="gender-{{character_loop.index0}}" id="gender-{{character_loop.index0}}" value={{key}}>
                    {% elif key == 2 %}
                        <input checked type="radio" name="gender-{{character_loop.index0}}" id="gender-{{character_loop.index0}}" value={{key}}>
                    {% else %}
                        <input type="radio" name="gender-{{character_loop.index0}}" id="gender-{{character_loop.index0}}" value={{key}}>
                    {% endif %}
                    <label for="{{key}}">{{value}}</label><br>
                {% endfor %}
            </li>
    </ul>
    {% if loop.last %}
        <input type="hidden" id="character_count" name="character_count" value="{{loop.index0}}">
    {% endif %}
</div>
{% endfor %}

<input type="submit" value="Submit">
</form>

{% endblock %}

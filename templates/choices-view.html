{% extends "base.html" %}

{% block title %}- All Choices{% endblock %}

{% block content %}
<h2>Choice List for {{play.title}}</h2>

<div id="choices-metadata">

{% if choices != none and choices|length > 0 %}
    {% for choice in choices %}
    <div id="choice-metadata">
        <ul>
            <li>Title: {{choice['title']}}</li>
            <li>Description: {{choice['desc']}}</li>
            {% if choice['quote'] %}
                <li>Quote: {{choice['quote']}}</li>
            {% endif %}
            {% if choice['scenes'] %}
                <li>Related Scenes: 
                <ul>
                {% for scene in choice['scenes'] %}
                    <li><a href="/view-scene/{{scene.id}}">{{scene.act}}.{{scene.scene}}{% if scene.title %}: {{scene.title}}{% endif %}</a></li>
                {% endfor %}
                </ul>
            {% endif %}
            {% if choice['characters'] %}
                <li>Related Characters: 
                    <ul>
                    {% for character in choice['characters'] %}
                        <li><a href="/view-character/{{character.id}}">{{character.name}}</a></li>
                    {% endfor %}
                    </ul>
                </li>
            {% endif %}
            {% if choice['interpretations'] %}
            <li>Related Interpretations: 
                <ul>
                {% for interpretation in choice['interpretations'] %}
                    <li>{{interpretation.title}}</li>
                {% endfor %}
                </ul>
            </li>
            {% endif %}
        </ul>
    </div>
    {% endfor %}
{% else %}
    <p>No choices in the database.</p>
    <p><a href="/add-choices-{{play.shortname}}">Add choices?</a></p>
{% endif %}
</div>


{% endblock %}
